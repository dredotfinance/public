(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9218],{13121:(e,t,a)=>{"use strict";a.d(t,{BondPositions:()=>j});var n=a(95155),s=a(74575),r=a(40646),i=a(14186),l=a(33109),d=a(92138),o=a(88482),c=a(97168),m=a(88145),u=a(32267),p=a(89613),y=a(12115),x=a(87415);a(34289),a(76736);let f=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]');var g=a(38227),h=a(36241),b=a(81100),v=(a(30943),a(67667));function j(){let{bondPositions:e}=(0,v.t)(),{offerings:t}=(0,u.f)(),{protocolInfo:a}=function(e){let t=(0,g.l)({chain:b.T,transport:(0,h.L)()}),{data:a}=(0,x.G)(),[n,s]=(0,y.useState)(null),[r,i]=(0,y.useState)(!1),[l,d]=(0,y.useState)(null),o=(0,y.useCallback)(async()=>{},[a,void 0,t]),c=(0,y.useCallback)(async(e,t,a)=>({address:e,abi:f,functionName:"approve",args:[t,BigInt(a)]}),[]),m=(0,y.useCallback)((e,t,a)=>{if(!n)return!0;let s=n.tokenInfos.find(t=>t.symbol===e);return!s||BigInt(s.allowance)<BigInt(a)},[n]);return{protocolInfo:n,isLoading:r,error:l,claimAllRewards:o,getApprovalTransaction:c,needsApproval:m}}(),j=e.map(e=>{var n,s;let r=parseFloat(e.amount),i=t.find(t=>t.id===e.bondId.toString());if(!i)return null;let l=(n=(null==a?void 0:a.tokenInfos)||[],s=(null==i?void 0:i.quoteToken)||"",n.find(e=>e.token.toLowerCase()===s.toLowerCase()));return l?{id:e.id,bondType:l.symbol,originalAmount:e.amount,totalDreAmount:e.amount,discount:"10.2%",createdAt:new Date(e.startTime),claimInfo:{percentage:33,dreAmount:(r/3).toFixed(2),claimableAt:new Date(e.startTime+3456e5),claimed:!0,stakePositionId:"123",currentYield:"10.2%"}}:null}).filter(e=>null!==e),N=async e=>{},T=e=>{let t=new Date,a=e.getTime()-t.getTime();if(a<=0)return"Ready to claim";let n=Math.floor(a/864e5),s=Math.floor(a%864e5/36e5);return n>0?"".concat(n,"d ").concat(s,"h"):"".concat(s,"h")};return(0,n.jsxs)(o.Zp,{className:"glow-card bg-gray-900/50 backdrop-blur-sm",children:[(0,n.jsxs)(o.aR,{children:[(0,n.jsxs)(o.ZB,{className:"flex items-center gap-2 text-white text-xl font-semibold",children:[(0,n.jsx)(s.A,{className:"h-6 w-6 text-gold-400"}),"Your Bond Positions"]}),(0,n.jsx)(o.BT,{className:"text-gray-400",children:"Track your bond positions and claim rewards using the (4,4,4) vesting model"})]}),(0,n.jsx)(o.Wu,{children:0===j.length?(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("p",{className:"text-gray-400",children:"You don't have any bond positions."}),(0,n.jsx)(c.$,{className:"mt-4 bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-black",children:"Create Bond"})]}):(0,n.jsx)("div",{className:"space-y-6",children:j.map(e=>{let t=e.claimInfo,a=new Date>=t.claimableAt&&!t.claimed;return(0,n.jsxs)("div",{className:"rounded-xl bg-gray-800/50 border border-gray-700/50 p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["Bond #",e.id]}),(0,n.jsx)(m.E,{variant:"outline",className:"text-gold-400",children:e.bondType})]}),(0,n.jsxs)("div",{className:"text-sm text-gray-400",children:["Created ",e.createdAt.toLocaleDateString()," â€¢ ",e.discount," discount"]})]}),(0,n.jsxs)("div",{className:"text-right space-y-1",children:[(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"Total DRE"}),(0,n.jsx)("div",{className:"text-xl font-mono font-bold text-gold-400",children:e.totalDreAmount}),(0,n.jsxs)("div",{className:"text-xs text-gray-500",children:["from ",e.originalAmount," ",e.bondType]})]})]}),(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsx)("div",{className:"rounded-lg bg-gray-700/30 border border-gray-600/50 p-2",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[(0,n.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)("div",{className:"text-sm font-medium text-white",children:["Claim  ",t.percentage,"%"]}),t.claimed?(0,n.jsxs)(m.E,{className:"bg-green-500/20 text-green-400 border-green-500/30 text-xs py-0 h-5",children:[(0,n.jsx)(r.A,{className:"h-2.5 w-2.5 mr-1"}),"Claimed & Staked"]}):a?(0,n.jsxs)(m.E,{className:"bg-gold-500/20 text-gold-400 border-gold-500/30 text-xs py-0 h-5",children:[(0,n.jsx)(i.A,{className:"h-2.5 w-2.5 mr-1"}),"Ready"]}):(0,n.jsxs)(m.E,{variant:"outline",className:"border-gray-500/30 text-gray-400 text-xs py-0 h-5",children:[(0,n.jsx)(i.A,{className:"h-2.5 w-2.5 mr-1"}),"Vesting"]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-gray-500",children:"Amount"}),(0,n.jsxs)("div",{className:"font-mono text-white",children:[t.dreAmount," DRE"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-gray-500",children:t.claimed?"Claimed":"Claimable"}),(0,n.jsx)("div",{className:"font-mono text-gray-300",children:t.claimed?t.claimableAt.toLocaleDateString():T(t.claimableAt)})]}),t.claimed&&t.stakePositionId&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-gray-500",children:"Stake Position"}),(0,n.jsx)("div",{className:"font-mono text-gold-400",children:t.stakePositionId})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-gray-500",children:"Current Yield"}),(0,n.jsx)("div",{className:"font-mono text-emerald-400",children:t.currentYield})]})]})]})]}),(0,n.jsx)("div",{className:"flex-shrink-0",children:t.claimed?(0,n.jsx)(p.Bc,{children:(0,n.jsxs)(p.m_,{children:[(0,n.jsx)(p.k$,{asChild:!0,children:(0,n.jsxs)(c.$,{variant:"outline",size:"sm",className:"border-green-500/30 text-green-400 hover:bg-green-500/10 h-8 px-3 text-xs",disabled:!0,children:[(0,n.jsx)(l.A,{className:"h-3 w-3 mr-1"}),"Staked"]})}),(0,n.jsx)(p.ZI,{children:(0,n.jsxs)("p",{className:"text-xs",children:["This claim has been processed and automatically staked as position"," ",t.stakePositionId]})})]})}):a?(0,n.jsxs)(c.$,{size:"sm",className:"bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-black h-8 px-3 text-xs",onClick:()=>N(e.id),children:["Claim & Stake",(0,n.jsx)(d.A,{className:"h-3 w-3 ml-1"})]}):(0,n.jsxs)(c.$,{size:"sm",variant:"outline",className:"border-gray-600 text-gray-400 h-8 px-3 text-xs",disabled:!0,children:[(0,n.jsx)(i.A,{className:"h-3 w-3 mr-1"}),T(t.claimableAt)]})})]})})})]},e.id)})})})]})}},34289:e=>{"use strict";e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_staking","type":"address"},{"internalType":"address","name":"_bondDepository","type":"address"},{"internalType":"address","name":"_treasury","type":"address"},{"internalType":"address","name":"_dreToken","type":"address"},{"internalType":"address","name":"_stakingToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsClaimed","type":"event"},{"inputs":[],"name":"bondDepository","outputs":[{"internalType":"contract IDreBondDepository","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"calculateAPR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"claimAllRewards","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"dreToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"startingIndex","type":"uint256"},{"internalType":"uint256","name":"endingIndex","type":"uint256"}],"name":"getAllStakingPositions","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"declaredValue","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"cooldownEnd","type":"uint256"},{"internalType":"uint256","name":"rewardsUnlockAt","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}],"internalType":"struct DreUIHelper.StakingPositionInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"bondIds","type":"uint256[]"}],"name":"getBondVariables","outputs":[{"components":[{"internalType":"bool","name":"enabled","type":"bool"},{"internalType":"uint256","name":"capacity","type":"uint256"},{"internalType":"contract IERC20","name":"quoteToken","type":"address"},{"internalType":"uint256","name":"totalDebt","type":"uint256"},{"internalType":"uint256","name":"maxPayout","type":"uint256"},{"internalType":"uint256","name":"sold","type":"uint256"},{"internalType":"uint256","name":"purchased","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"initialPrice","type":"uint256"},{"internalType":"uint256","name":"finalPrice","type":"uint256"}],"internalType":"struct IDreBondDepository.Bond[]","name":"bonds","type":"tuple[]"},{"internalType":"uint256[]","name":"currentPrices","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address[]","name":"bondTokens","type":"address[]"}],"name":"getProtocolInfo","outputs":[{"internalType":"uint256","name":"tvl","type":"uint256"},{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"totalStaked","type":"uint256"},{"internalType":"uint256","name":"totalRewards","type":"uint256"},{"internalType":"uint256","name":"currentAPR","type":"uint256"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint8","name":"decimals","type":"uint8"}],"internalType":"struct DreUIHelper.TokenInfo[]","name":"tokenInfos","type":"tuple[]"},{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"declaredValue","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"cooldownEnd","type":"uint256"},{"internalType":"uint256","name":"rewardsUnlockAt","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}],"internalType":"struct DreUIHelper.StakingPositionInfo[]","name":"stakingPositions","type":"tuple[]"},{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"bondId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"lastClaimTime","type":"uint256"},{"internalType":"uint256","name":"claimedAmount","type":"uint256"},{"internalType":"bool","name":"isStaked","type":"bool"}],"internalType":"struct DreUIHelper.BondPositionInfo[]","name":"bondPositions","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"staking","outputs":[{"internalType":"contract IDreStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stakingToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"treasury","outputs":[{"internalType":"contract ITreasury","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},37777:(e,t,a)=>{"use strict";a.d(t,{Tooltip:()=>d,TooltipContent:()=>c,TooltipProvider:()=>l,TooltipTrigger:()=>o});var n=a(95155),s=a(12115),r=a(89613),i=a(53999);let l=r.Kq,d=r.bL,o=r.l9,c=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,n.jsx)(r.UC,{ref:t,sideOffset:s,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","max-w-[250px]",a),...l})});c.displayName=r.UC.displayName},41397:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});var n=a(95155),s=a(12115),r=a(15312),i=a(53999);let l=s.forwardRef((e,t)=>{let{className:a,value:s,indicatorClassName:l,...d}=e;return(0,n.jsx)(r.bL,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...d,children:(0,n.jsx)(r.C1,{className:(0,i.cn)("h-full w-full flex-1 bg-primary transition-all",l),style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});l.displayName=r.bL.displayName},49026:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>d,TN:()=>o});var n=a(95155),s=a(12115),r=a(74466),i=a(53999);let l=(0,r.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,...r}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:s}),a),...r})});d.displayName="Alert",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...s})}).displayName="AlertTitle";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...s})});o.displayName="AlertDescription"},52939:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,Nh:()=>l,_l:()=>s,_r:()=>r,r1:()=>i});let n=(0,a(51990).Z0)({name:"user",initialState:{isConnected:!1,address:null,chainId:null,isLoading:!1,error:null},reducers:{setWalletConnection:(e,t)=>{e.isConnected=!0,e.address=t.payload.address,e.chainId=t.payload.chainId,e.error=null},disconnectWallet:e=>{e.isConnected=!1,e.address=null,e.chainId=null},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setWalletConnection:s,disconnectWallet:r,setLoading:i,setError:l}=n.actions,d=n.reducer},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var n=a(52596),s=a(39688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,n.$)(t))}},67667:(e,t,a)=>{"use strict";a.d(t,{t:()=>r});var n=a(34540),s=a(76736);function r(){let{tokenInfos:e,bondPositions:t,loading:a,error:r,lastUpdated:i}=(0,n.d4)(e=>e.balances),l=t=>{let a=e.find(e=>e.symbol===t);return(null==a?void 0:a.allowance)||0n};return{tokenInfos:e,bondPositions:t,loading:a,error:r,lastUpdated:i,getFormattedBalance:t=>{let a=s.A.tokens[t],n=e.find(e=>e.symbol===t);return(Number((null==n?void 0:n.balance)||0n)/Math.pow(10,a.decimals)).toFixed(a.decimals)},getContractBalance:t=>{let a=s.A.tokens[t],n=e.find(e=>e.symbol===t);return(Number((null==n?void 0:n.balance)||0n)/Math.pow(10,a.decimals)).toFixed(a.decimals)},getApproval:l,getFormattedApproval:e=>{let t=s.A.tokens[e];return(Number(l(e))/Math.pow(10,t.decimals)).toFixed(t.decimals)}}}},73001:(e,t,a)=>{"use strict";a.d(t,{BondingCard:()=>$});var n=a(95155),s=a(12115),r=a(74575),i=a(92138),l=a(81284),d=a(88482),o=a(97168),c=a(89852),m=a(40330),u=a(66474),p=a(47863),y=a(5196),x=a(53999);let f=m.bL;m.YJ;let g=m.WT,h=s.forwardRef((e,t)=>{let{className:a,children:s,...r}=e;return(0,n.jsxs)(m.l9,{ref:t,className:(0,x.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[s,(0,n.jsx)(m.In,{asChild:!0,children:(0,n.jsx)(u.A,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=m.l9.displayName;let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(m.PP,{ref:t,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,n.jsx)(p.A,{className:"h-4 w-4"})})});b.displayName=m.PP.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(m.wn,{ref:t,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,n.jsx)(u.A,{className:"h-4 w-4"})})});v.displayName=m.wn.displayName;let j=s.forwardRef((e,t)=>{let{className:a,children:s,position:r="popper",...i}=e;return(0,n.jsx)(m.ZL,{children:(0,n.jsxs)(m.UC,{ref:t,className:(0,x.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...i,children:[(0,n.jsx)(b,{}),(0,n.jsx)(m.LM,{className:(0,x.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,n.jsx)(v,{})]})})});j.displayName=m.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(m.JU,{ref:t,className:(0,x.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=m.JU.displayName;let N=s.forwardRef((e,t)=>{let{className:a,children:s,...r}=e;return(0,n.jsxs)(m.q7,{ref:t,className:(0,x.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(m.VF,{children:(0,n.jsx)(y.A,{className:"h-4 w-4"})})}),(0,n.jsx)(m.p4,{children:s})]})});N.displayName=m.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(m.wv,{ref:t,className:(0,x.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=m.wv.displayName;var T=a(37777),w=a(1243),C=a(40646),k=a(51154),A=a(99840),R=a(41397),D=a(49026),I=a(88579),E=a(1405),B=a(8542),S=a(87415),P=a(76736);let M=JSON.parse('[{"inputs":[{"internalType":"address","name":"_authority","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ECDSAInvalidSignature","type":"error"},{"inputs":[{"internalType":"uint256","name":"length","type":"uint256"}],"name":"ECDSAInvalidSignatureLength","type":"error"},{"inputs":[{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"ECDSAInvalidSignatureS","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},{"inputs":[{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"ERC2612ExpiredSignature","type":"error"},{"inputs":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC2612InvalidSigner","type":"error"},{"inputs":[],"name":"EnforcedPause","type":"error"},{"inputs":[],"name":"ExpectedPause","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"currentNonce","type":"uint256"}],"name":"InvalidAccountNonce","type":"error"},{"inputs":[],"name":"InvalidInitialization","type":"error"},{"inputs":[],"name":"InvalidShortString","type":"error"},{"inputs":[],"name":"NotInitializing","type":"error"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"name":"StringTooLong","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IDreAuthority","name":"authority","type":"address"}],"name":"AuthorityUpdated","type":"event"},{"anonymous":false,"inputs":[],"name":"EIP712DomainChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint64","name":"version","type":"uint64"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"authority","outputs":[{"internalType":"contract IDreAuthority","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"eip712Domain","outputs":[{"internalType":"bytes1","name":"fields","type":"bytes1"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"version","type":"string"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"verifyingContract","type":"address"},{"internalType":"bytes32","name":"salt","type":"bytes32"},{"internalType":"uint256[]","name":"extensions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IDreAuthority","name":"_newAuthority","type":"address"}],"name":"setAuthority","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]');var F=a(39513);let L=e=>{let{offering:t,isOpen:a,onClose:i,bondAmount:l,bondAmountRaw:d}=e,[c,m]=(0,s.useState)(!1),[u,p]=(0,s.useState)("confirm"),[y,x]=(0,s.useState)(""),f=(0,B.e)(),{data:g}=(0,S.G)(),h=async()=>{if(!f||!g){x("Wallet client not available"),p("error");return}m(!0),p("approve");try{let e=t.quoteToken,a=P.A.coreAddresses.dreBondDepository;if(await f.readContract({address:e,abi:M,functionName:"allowance",args:[g.account.address,a]})>=d){p("submit");return}let{request:n}=await f.simulateContract({address:e,abi:M,functionName:"approve",args:[a,I.Ao],account:g.account.address}),s=await g.writeContract(n);await f.waitForTransactionReceipt({hash:s}),p("submit")}catch(e){console.error("Approval error:",e),x("Approval failed. Please try again."),p("error")}finally{m(!1)}},b=async()=>{if(!f||!g){x("Wallet client not available"),p("error");return}m(!0),p("submit");try{let e=P.A.coreAddresses.dreBondDepository,a=await f.readContract({address:e,abi:F,functionName:"currentPrice",args:[BigInt(t.id)]}),{request:n}=await f.simulateContract({address:e,abi:F,functionName:"deposit",args:[BigInt(t.id),d,a,0,g.account.address],account:g.account.address}),s=await g.writeContract(n);await f.waitForTransactionReceipt({hash:s}),p("success")}catch(e){console.error("Bond submission error:",e),x("Transaction failed. Please try again."),p("error")}finally{m(!1)}},v=()=>{p("confirm"),m(!1),x(""),i()},j=()=>{switch(u){case"confirm":case"error":default:return 0;case"approve":return 33;case"submit":return 66;case"success":return 100}},N=d*BigInt(1e18)/BigInt(t.currentPrice||1n);return(0,n.jsx)(A.lG,{open:a,onOpenChange:v,children:(0,n.jsxs)(A.Cf,{className:"sm:max-w-md bg-gray-900 border-gray-700",children:[(0,n.jsxs)(A.c7,{children:[(0,n.jsxs)(A.L3,{className:"flex items-center gap-2 text-white",children:[(0,n.jsx)(r.A,{className:"h-5 w-5 text-gold-400"}),"Bond ",t.quoteTokenSymbol]}),(0,n.jsx)(A.rr,{className:"text-gray-400",children:"Purchase DRE at a discount with a 12 day vesting period"})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-gray-400",children:"Transaction Progress"}),(0,n.jsxs)("span",{className:"text-gold-400",children:[j(),"%"]})]}),(0,n.jsx)(R.k,{value:j(),className:"h-2 bg-gray-700",indicatorClassName:"bg-gradient-to-r from-gold-500 to-gold-600"})]}),(0,n.jsxs)("div",{className:"rounded-xl bg-gray-800/50 border border-gray-700/50 p-4 space-y-3",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"Bond Asset"}),(0,n.jsxs)("span",{className:"text-sm font-mono text-white",children:[Number(l).toFixed(2)," ",t.quoteTokenSymbol]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"You Will Receive"}),(0,n.jsxs)("span",{className:"text-sm font-mono text-gold-400",children:[Number((0,E.J)(N,18)).toFixed(2)," DRE"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"Bond Price"}),(0,n.jsxs)("span",{className:"text-sm font-mono text-emerald-400",children:[(Number(t.currentPrice)/1e7).toFixed(6)," ",t.quoteTokenSymbol,"/DRE"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"Vesting Term"}),(0,n.jsx)("span",{className:"text-sm font-mono text-white",children:"12 days"})]})]}),"confirm"===u&&(0,n.jsxs)(D.Fc,{className:"bg-blue-500/10 border-blue-500/30",children:[(0,n.jsx)(w.A,{className:"h-4 w-4 text-blue-400"}),(0,n.jsxs)(D.TN,{className:"text-gray-300",children:[(0,n.jsx)("strong",{children:"Vesting Period:"})," Your DRE will vest linearly over 12 days. You can claim vested tokens at any time."]})]}),"success"===u&&(0,n.jsxs)(D.Fc,{className:"bg-green-500/10 border-green-500/30",children:[(0,n.jsx)(C.A,{className:"h-4 w-4 text-green-400"}),(0,n.jsxs)(D.TN,{className:"text-gray-300",children:[(0,n.jsx)("strong",{children:"Success!"})," Your bond has been created. DRE will vest over 12 days."]})]}),"error"===u&&(0,n.jsxs)(D.Fc,{className:"bg-red-500/10 border-red-500/30",children:[(0,n.jsx)(w.A,{className:"h-4 w-4 text-red-400"}),(0,n.jsxs)(D.TN,{className:"text-gray-300",children:[(0,n.jsx)("strong",{children:"Error:"})," ",y]})]}),(0,n.jsxs)("div",{className:"space-y-3",children:["confirm"===u&&(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(o.$,{variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-800",onClick:v,children:"Cancel"}),(0,n.jsx)(o.$,{className:"flex-1 bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-black",onClick:h,children:"Proceed"})]})}),"approve"===u&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"text-center space-y-2",children:[(0,n.jsx)(k.A,{className:"h-12 w-12 text-gold-400 mx-auto animate-spin"}),(0,n.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["Approve ",t.quoteTokenSymbol," Spending"]}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:"Confirm the approval transaction in your wallet"})]}),(0,n.jsxs)(o.$,{disabled:!0,className:"w-full bg-gray-600 text-gray-300",children:[(0,n.jsx)(k.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Waiting for Approval..."]})]}),"submit"===u&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"text-center space-y-2",children:[(0,n.jsx)(r.A,{className:"h-12 w-12 text-gold-400 mx-auto"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Submit Bond Transaction"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:"Click to execute the bond purchase"})]}),(0,n.jsx)(o.$,{className:"w-full bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-black",onClick:b,disabled:c,children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Bond..."]}):"Execute Bond"})]}),"success"===u&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"text-center space-y-2",children:[(0,n.jsx)(C.A,{className:"h-12 w-12 text-green-400 mx-auto"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Bond Created Successfully"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:"Your DRE will vest over 12 days"})]}),(0,n.jsx)(o.$,{className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",onClick:v,children:"Close"})]}),"error"===u&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"text-center space-y-2",children:[(0,n.jsx)(w.A,{className:"h-12 w-12 text-red-400 mx-auto"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Transaction Failed"}),(0,n.jsx)("p",{className:"text-sm text-gray-400",children:y})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(o.$,{variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-800",onClick:v,children:"Close"}),(0,n.jsx)(o.$,{className:"flex-1 bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-black",onClick:()=>p("confirm"),children:"Try Again"})]})]})]})]})]})})};var _=a(32267),z=a(89090),U=a(44494),q=a(67667);function $(){var e,t;let[a,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[y,x]=(0,s.useState)(!1),{offerings:b,fetchBondOfferings:v}=(0,_.f)(),w=b.find(e=>e.id===u),{tokenInfos:C}=(0,q.t)();(0,s.useEffect)(()=>{v()},[]);let k=e=>{let t=C.find(t=>t.symbol.toLowerCase()===e.toLowerCase());return t?(0,E.J)(BigInt(t.balance),t.decimals):"0"},A=(0,s.useMemo)(()=>{let e=C.find(e=>e.symbol.toLowerCase()===(null==w?void 0:w.quoteTokenSymbol.toLowerCase()));return(0,z.X)(a,(null==e?void 0:e.decimals)||18)},[a,w]);return(0,n.jsxs)(d.Zp,{className:"glow-card bg-gray-900/50 backdrop-blur-sm",children:[(0,n.jsxs)(d.aR,{children:[(0,n.jsxs)(d.ZB,{className:"flex items-center gap-2 text-white text-xl font-semibold",children:[(0,n.jsx)(r.A,{className:"h-6 w-6 text-gold-400"}),"Bonding"]}),(0,n.jsx)(d.BT,{className:"text-gray-400",children:"Bond assets to purchase DRE at a discount"})]}),(0,n.jsxs)(d.Wu,{children:[(0,n.jsxs)("div",{className:"mb-6 grid grid-cols-3 gap-4 rounded-xl bg-gray-800/50 border border-gray-700/50 p-6 backdrop-blur-sm",children:[(0,n.jsx)(T.TooltipProvider,{children:(0,n.jsxs)(T.Tooltip,{children:[(0,n.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,n.jsxs)("div",{className:"space-y-2 cursor-help",children:[(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"Your Pending Rewards"}),(0,n.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:"245.67 DRE"}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:"â‰ˆ $10,456.32"})]})}),(0,n.jsx)(T.TooltipContent,{children:(0,n.jsx)("p",{className:"max-w-xs text-xs",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt. Rewards currently vesting through the linear release schedule mechanism."})})]})}),(0,n.jsx)(T.TooltipProvider,{children:(0,n.jsxs)(T.Tooltip,{children:[(0,n.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,n.jsxs)("div",{className:"space-y-2 cursor-help",children:[(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"Claimable Rewards"}),(0,n.jsx)("div",{className:"text-2xl font-mono font-bold text-emerald-400",children:"89.23 DRE"}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:"â‰ˆ $3,798.45"})]})}),(0,n.jsx)(T.TooltipContent,{children:(0,n.jsx)("p",{className:"max-w-xs text-xs",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut enim ad minim veniam. Fully vested DRE tokens available for immediate withdrawal to your wallet."})})]})}),(0,n.jsx)(T.TooltipProvider,{children:(0,n.jsxs)(T.Tooltip,{children:[(0,n.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,n.jsxs)("div",{className:"space-y-2 cursor-help",children:[(0,n.jsx)("div",{className:"text-sm text-gray-400",children:"Next Epoch"}),(0,n.jsx)("div",{className:"text-2xl font-mono font-bold text-gold-400",children:"12h 34m"}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:"+15.67 DRE"})]})}),(0,n.jsx)(T.TooltipContent,{children:(0,n.jsx)("p",{className:"max-w-xs text-xs",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis aute irure dolor. Time remaining until next batch of tokens becomes available for claiming."})})]})})]}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(T.TooltipProvider,{children:(0,n.jsxs)(T.Tooltip,{children:[(0,n.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,n.jsxs)(o.$,{className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-semibold",disabled:!1,children:["Claim Vested DRE (89.23 DRE)",(0,n.jsx)(i.A,{className:"ml-2 h-4 w-4"})]})}),(0,n.jsx)(T.TooltipContent,{children:(0,n.jsx)("p",{className:"max-w-xs text-xs",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis aute irure dolor in reprehenderit. Instantly withdraw all fully vested discounted DRE tokens to your wallet."})})]})})}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,n.jsx)("label",{htmlFor:"bond-select",className:"text-sm font-medium text-gray-300",children:"Bond Type"}),(0,n.jsx)(T.TooltipProvider,{children:(0,n.jsxs)(T.Tooltip,{children:[(0,n.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,n.jsxs)(o.$,{variant:"ghost",size:"icon",className:"h-5 w-5 rounded-full p-0",children:[(0,n.jsx)(l.A,{className:"h-4 w-4 text-gray-400"}),(0,n.jsx)("span",{className:"sr-only",children:"Bond Info"})]})}),(0,n.jsx)(T.TooltipContent,{children:(0,n.jsx)("p",{className:"max-w-xs text-xs",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Bonding mechanisms allow strategic asset acquisition at preferential rates through time-locked commitments."})})]})})]}),(0,n.jsxs)(f,{value:u,onValueChange:p,children:[(0,n.jsx)(h,{className:"bg-gray-800/50 border-gray-600 text-white",children:(0,n.jsx)(g,{placeholder:"Select a bond"})}),(0,n.jsx)(j,{className:"bg-gray-800 border-gray-600",children:b.map(e=>(0,n.jsx)(N,{value:e.id,children:(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsx)("span",{children:e.quoteTokenSymbol}),"\xa0-\xa0",(0,n.jsxs)("span",{className:"text-gold-400 text-sm font-mono",children:[e.discount,"% discount"]})]})},e.id))})]})]}),u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,n.jsx)("label",{htmlFor:"bond-amount",className:"text-sm font-medium text-gray-300",children:"Amount"}),(0,n.jsxs)("div",{className:"text-xs text-gray-500 font-mono",children:["Balance: ",k((null==w?void 0:w.quoteTokenSymbol)||"")," ",(null==w?void 0:w.quoteTokenSymbol)||""]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.p,{id:"bond-amount",placeholder:"0.00",type:"number",value:a,onChange:e=>m(e.target.value),className:"bg-gray-800/50 border-gray-600 text-white font-mono"}),(0,n.jsx)(T.TooltipProvider,{children:(0,n.jsxs)(T.Tooltip,{children:[(0,n.jsx)(T.TooltipTrigger,{asChild:!0,children:(0,n.jsx)(o.$,{variant:"outline",size:"sm",className:"border-gray-600 text-gray-400 hover:bg-gray-800",onClick:()=>m(k((null==w?void 0:w.quoteTokenSymbol)||"")),children:"Max"})}),(0,n.jsx)(T.TooltipContent,{children:(0,n.jsx)("p",{className:"max-w-xs text-xs",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut enim ad minim veniam. Set bond amount to your maximum available balance for optimal capital efficiency."})})]})})]})]}),(0,n.jsxs)("div",{className:"rounded-xl bg-gray-800/50 border border-gray-700/50 p-4 space-y-3",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"You Will Get"}),(0,n.jsx)("span",{className:"text-sm font-mono font-medium text-gold-400",children:"0.00 DRE"})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"Max You Can Buy"}),(0,n.jsxs)("span",{className:"text-sm font-mono font-medium text-white",children:[Number((0,U.c)(BigInt((null==w?void 0:w.maxPayout)||"0")))," DRE"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"ROI"}),(0,n.jsxs)("span",{className:"text-sm font-mono font-medium text-emerald-400",children:[(null===(e=b.find(e=>e.id===u))||void 0===e?void 0:e.discount)||"0","%"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-400",children:"Vesting Term"}),(0,n.jsx)("span",{className:"text-sm font-mono font-medium text-white",children:"12 days"})]})]}),(0,n.jsxs)(o.$,{className:"w-full bg-gradient-to-r from-gold-500 to-gold-600 hover:from-gold-600 hover:to-gold-700 text-black font-semibold",onClick:()=>{u&&a&&Number.parseFloat(a)>0&&w&&x(!0)},children:["Bond ",(null===(t=b.find(e=>e.id===u))||void 0===t?void 0:t.quoteTokenSymbol)||"",(0,n.jsx)(i.A,{className:"ml-2 h-4 w-4"})]})]})]})]}),(0,n.jsx)(d.wL,{className:"border-t border-gray-700/50 pt-4",children:(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Note: Bonded DRE vests linearly over the vesting term. You can claim vested DRE at any time."})}),w&&(0,n.jsx)(L,{isOpen:y,onClose:()=>x(!1),offering:w,bondAmount:a,bondAmountRaw:A})]})}},76736:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let n={treasury:"0xb692e2706b628998B4403979D9117Ed746bf8128",stakingContract:"0x30902d05C499911142FE62B447dDcf19649452A3",dreBondDepository:"0xD35697485d91C1144D62d593DDd08C493A1bd34a",dreOracle:"0xc3bAdcf754b0833c706Eb1b12A310B4EF5C20EB0",uiHelper:"0x6c8d0f1fdAAbc912A09d1f16af292BbBb86ADffC"},s={tokens:{USDC:{address:"0x29219dd400f2Bf60E5a23d13Be72B486D4038894",decimals:6,symbol:"USDC"},DRE:{address:"0xF8232259D4F92E44eF84F18A0B9877F4060B26F1",decimals:18,symbol:"DRE"},DRE_USDC_LP:{address:"0xB781C624397C423Cb62bAe9996cEbedC6734B76b",decimals:18}},coreAddresses:n,bondIds:[0,1],approvalContracts:[n.treasury,n.stakingContract,n.dreBondDepository]}},88145:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var n=a(95155),s=a(74466),r=a(53999);let i=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...s}=e;return(0,n.jsx)("div",{className:(0,r.cn)(i({variant:a}),t),...s})}},88482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>m});var n=a(95155),s=a(12115),r=a(53999);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...s})});l.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...s})});m.displayName="CardFooter"},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var n=a(95155),s=a(12115),r=a(53999);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,n.jsx)("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},90327:(e,t,a)=>{"use strict";a.d(t,{BondingExplainer:()=>c});var n=a(95155),s=a(88482),r=a(16785),i=a(93550),l=a(33109),d=a(6874),o=a.n(d);function c(){return(0,n.jsxs)(s.Zp,{className:"glow-card bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-sm border-gold-500/20",children:[(0,n.jsx)(s.aR,{className:"pb-4",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(r.A,{className:"h-8 w-8 text-gold-400"}),(0,n.jsx)("div",{className:"absolute inset-0 h-8 w-8 text-gold-400/30 animate-ping rounded-full"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(s.ZB,{className:"text-2xl font-bold gradient-text",children:"Bonding System"}),(0,n.jsx)(s.BT,{className:"text-gray-400 mt-1",children:"Maximize your DRE acquisition with our innovative three-phase bonding mechanism"})]})]})}),(0,n.jsxs)(s.Wu,{className:"space-y-6",children:[(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,n.jsxs)("div",{className:"flex items-start gap-3 bg-gray-800/30 rounded-lg p-3",children:[(0,n.jsx)("div",{className:"bg-gold-500/20 rounded-full p-1.5 mt-0.5",children:(0,n.jsx)(i.A,{className:"h-4 w-4 text-gold-400"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-white text-sm",children:"Discounted DRE"}),(0,n.jsx)("div",{className:"text-xs text-gray-400",children:"Purchase DRE at 8-15% below market price"})]})]}),(0,n.jsxs)("div",{className:"flex items-start gap-3 bg-gray-800/30 rounded-lg p-3",children:[(0,n.jsx)("div",{className:"bg-emerald-500/20 rounded-full p-1.5 mt-0.5",children:(0,n.jsx)(l.A,{className:"h-4 w-4 text-emerald-400"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-white text-sm",children:"Auto-Compounding"}),(0,n.jsx)("div",{className:"text-xs text-gray-400",children:"Claims automatically stake for immediate yield"})]})]})]})}),(0,n.jsxs)("div",{className:"flex items-center justify-center pt-1 text-center text-sm text-gray-400",children:[(0,n.jsx)("span",{className:"",children:"To learn more, about the bonding system works,\xa0"}),(0,n.jsxs)("span",{className:"text-gold-400",children:[(0,n.jsx)(o(),{href:"https://drefinance.gitbook.io/protocol/mechanics-dre/4-4-4-bonding-model",target:"_blank",children:"read the docs"}),"."]})]})]})]})}},93151:(e,t,a)=>{Promise.resolve().then(a.bind(a,13121)),Promise.resolve().then(a.bind(a,73001)),Promise.resolve().then(a.bind(a,90327))},97168:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var n=a(95155),s=a(12115),r=a(99708),i=a(74466),l=a(53999);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:o=!1,...c}=e,m=o?r.DX:"button";return(0,n.jsx)(m,{className:(0,l.cn)(d({variant:s,size:i,className:a})),ref:t,...c})});o.displayName="Button"},99840:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,Es:()=>p,L3:()=>y,c7:()=>u,lG:()=>d,rr:()=>x});var n=a(95155),s=a(12115),r=a(15452),i=a(54416),l=a(53999);let d=r.bL;r.l9;let o=r.ZL;r.bm;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});c.displayName=r.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e;return(0,n.jsxs)(o,{children:[(0,n.jsx)(c,{}),(0,n.jsxs)(r.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[s,(0,n.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(i.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.UC.displayName;let u=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};u.displayName="DialogHeader";let p=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="DialogFooter";let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});y.displayName=r.hE.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=r.VY.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[9751,6067,9613,6874,1823,1331,3501,8441,1684,7358],()=>t(93151)),_N_E=e.O()}]);