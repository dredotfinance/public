(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{8345:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>y,Cj:()=>o,Iq:()=>s,Nh:()=>p,Ob:()=>i,r1:()=>u});let a=(0,n(51990).Z0)({name:"staking",initialState:{positions:[],buyableStakes:[],totalStaked:"0",totalRewards:"0",currentAPR:0,isLoading:!1,error:null},reducers:{setStakingPositions:(e,t)=>{e.positions=t.payload},setBuyableStakes:(e,t)=>{e.buyableStakes=t.payload},addStakingPosition:(e,t)=>{e.positions.push(t.payload)},updateStakingPosition:(e,t)=>{let n=e.positions.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.positions[n]={...e.positions[n],...t.payload.updates})},setTotalStaked:(e,t)=>{e.totalStaked=t.payload},setTotalRewards:(e,t)=>{e.totalRewards=t.payload},setCurrentAPR:(e,t)=>{e.currentAPR=t.payload},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setStakingPositions:r,setBuyableStakes:i,addStakingPosition:s,updateStakingPosition:o,setTotalStaked:l,setTotalRewards:d,setCurrentAPR:c,setLoading:u,setError:p}=a.actions,y=a.reducer},12864:(e,t,n)=>{"use strict";n.d(t,{Header:()=>w});var a=n(95155),r=n(6874),i=n.n(r),s=n(35695),o=n(63439),l=n(12115),d=n(74783),c=n(97168),u=n(15452),p=n(74466),y=n(54416),m=n(53999);let g=u.bL,f=u.l9;u.bm;let b=u.ZL,h=l.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(u.hJ,{className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r,ref:t})});h.displayName=u.hJ.displayName;let x=(0,p.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v=l.forwardRef((e,t)=>{let{side:n="right",className:r,children:i,...s}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(h,{}),(0,a.jsxs)(u.UC,{ref:t,className:(0,m.cn)(x({side:n}),r),...s,children:[i,(0,a.jsxs)(u.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function k(e){let{links:t}=e,[n,r]=(0,l.useState)(!1),o=(0,s.usePathname)();return(0,a.jsxs)(g,{open:n,onOpenChange:r,children:[(0,a.jsx)(f,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"md:hidden text-gray-300",children:[(0,a.jsx)(d.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,a.jsx)(v,{side:"right",className:"bg-gray-900 border-gray-800 pt-10",children:(0,a.jsx)("div",{className:"flex flex-col space-y-6",children:(0,a.jsx)("nav",{className:"flex flex-col space-y-4",children:t.map(e=>(0,a.jsx)(i(),{href:e.href,className:"text-lg font-medium px-2 py-1 rounded-md transition-colors ".concat(o===e.href?"text-gold-400 bg-gold-500/10":"text-white/80 hover:text-gold-400 hover:bg-gray-800/50"),onClick:()=>r(!1),children:e.label},e.href))})})})]})}function w(){let e=(0,s.usePathname)(),t=[{href:"/stake",label:"Stake"},{href:"/buy-stakes",label:"Buy Stakes"},{href:"/bond",label:"Bond"},{href:"/leaderboard",label:"Leaderboard"}];return(0,a.jsx)("header",{className:"border-b border-gray-800/50 bg-gray-900/30 backdrop-blur-sm sticky top-0 z-40",children:(0,a.jsxs)("div",{className:"container mx-auto flex items-center justify-between py-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 md:gap-6",children:(0,a.jsx)(i(),{href:"/",children:(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("h1",{className:"text-xl md:text-2xl font-bold gradient-text",children:"DRE Finance"})})})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("nav",{className:"hidden md:flex items-center gap-6 lg:gap-8",children:t.map(t=>(0,a.jsx)(i(),{href:t.href,className:e===t.href?"text-sm font-medium text-gold-400":"text-sm font-medium text-white/80 hover:text-gold-400 transition-colors",children:t.label},t.href))}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.pK,{accountStatus:"address",chainStatus:"icon"}),(0,a.jsx)(k,{links:t})]})]})]})})}v.displayName=u.UC.displayName,l.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(u.hE,{ref:t,className:(0,m.cn)("text-lg font-semibold text-foreground",n),...r})}).displayName=u.hE.displayName,l.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(u.VY,{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",n),...r})}).displayName=u.VY.displayName},19324:()=>{},27888:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,19324,23)),Promise.resolve().then(n.bind(n,83027)),Promise.resolve().then(n.bind(n,30247)),Promise.resolve().then(n.bind(n,99199)),Promise.resolve().then(n.bind(n,99304)),Promise.resolve().then(n.bind(n,12864)),Promise.resolve().then(n.t.bind(n,6874,23)),Promise.resolve().then(n.t.bind(n,65299,23)),Promise.resolve().then(n.t.bind(n,34563,23))},30247:(e,t,n)=>{"use strict";n.d(t,{Providers:()=>A});var a=n(95155),r=n(34540),i=n(51990),s=n(52939),o=n(38326),l=n(8345),d=n(39919),c=n(38227),u=n(36241),p=n(81100);let y=JSON.parse('[{"inputs":[{"internalType":"address","name":"_staking","type":"address"},{"internalType":"address","name":"_bondDepository","type":"address"},{"internalType":"address","name":"_treasury","type":"address"},{"internalType":"address","name":"_dreToken","type":"address"},{"internalType":"address","name":"_stakingToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsClaimed","type":"event"},{"inputs":[],"name":"bondDepository","outputs":[{"internalType":"contract IDreBondDepository","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"calculateAPR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"claimAllRewards","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"dreToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"startingIndex","type":"uint256"},{"internalType":"uint256","name":"endingIndex","type":"uint256"}],"name":"getAllStakingPositions","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"declaredValue","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"cooldownEnd","type":"uint256"},{"internalType":"uint256","name":"rewardsUnlockAt","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}],"internalType":"struct DreUIHelper.StakingPositionInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getProtocolInfo","outputs":[{"internalType":"uint256","name":"tvl","type":"uint256"},{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"totalStaked","type":"uint256"},{"internalType":"uint256","name":"totalRewards","type":"uint256"},{"internalType":"uint256","name":"currentAPR","type":"uint256"},{"internalType":"address[]","name":"bondTokens","type":"address[]"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint8","name":"decimals","type":"uint8"}],"internalType":"struct DreUIHelper.TokenInfo[]","name":"tokenInfos","type":"tuple[]"},{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"declaredValue","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"cooldownEnd","type":"uint256"},{"internalType":"uint256","name":"rewardsUnlockAt","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}],"internalType":"struct DreUIHelper.StakingPositionInfo[]","name":"stakingPositions","type":"tuple[]"},{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"bondId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"payout","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"claimed","type":"uint256"},{"internalType":"bool","name":"isVested","type":"bool"}],"internalType":"struct DreUIHelper.BondPositionInfo[]","name":"bondPositions","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"staking","outputs":[{"internalType":"contract IDreStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stakingToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"treasury","outputs":[{"internalType":"contract ITreasury","name":"","type":"address"}],"stateMutability":"view","type":"function"}]');var m=n(76736);async function g(e){let t=(0,c.l)({chain:p.T,transport:(0,u.L)()}),[n,a,r,i,s,o,l,d,g]=await t.readContract({address:m.A.coreAddresses.uiHelper,abi:y,functionName:"getProtocolInfo",args:[e]});return{tvl:n,totalSupply:a,totalStaked:r,totalRewards:i,bondTokens:o,currentAPR:s,tokenInfos:l,stakingPositions:d,bondPositions:g}}let f=(0,i.zD)("balances/fetchProtocolInfo",async e=>{let t=await g(e);return{...t,tvl:t.tvl.toString(),totalSupply:t.totalSupply.toString(),totalStaked:t.totalStaked.toString(),totalRewards:t.totalRewards.toString(),currentAPR:t.currentAPR.toString(),tokenInfos:t.tokenInfos.map(e=>({...e,balance:e.balance.toString(),allowance:e.allowance.toString()})),stakingPositions:t.stakingPositions.map(e=>({...e,id:e.id.toString(),amount:e.amount.toString(),rewards:e.rewards.toString(),cooldownEnd:e.cooldownEnd.toString(),declaredValue:e.declaredValue.toString(),rewardsUnlockAt:e.rewardsUnlockAt.toString()})),bondPositions:t.bondPositions.map(e=>({...e,amount:e.amount.toString(),payout:e.payout.toString(),vestingPeriod:e.vestingPeriod.toString(),vestingStart:e.vestingStart.toString(),claimed:e.claimed.toString()}))}}),b=(0,i.Z0)({name:"balances",initialState:{tvl:"0",totalSupply:"0",totalStaked:"0",totalRewards:"0",currentAPR:"0",bondTokens:[],tokenInfos:[],stakingPositions:[],bondPositions:[],loading:!1,error:null,lastUpdated:null},reducers:{},extraReducers:e=>{e.addCase(f.pending,e=>{e.loading=!0,e.error=null}).addCase(f.fulfilled,(e,t)=>{e.loading=!1,e.error=null,e.lastUpdated=Date.now(),e.tvl=t.payload.tvl,e.totalSupply=t.payload.totalSupply,e.totalStaked=t.payload.totalStaked,e.totalRewards=t.payload.totalRewards,e.currentAPR=t.payload.currentAPR,e.bondTokens=t.payload.bondTokens,e.tokenInfos=t.payload.tokenInfos,e.stakingPositions=t.payload.stakingPositions,e.bondPositions=t.payload.bondPositions}).addCase(f.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch protocol info"})}}).reducer,h=e=>t=>n=>{console.group("%c Action: ".concat(n.type),"color: #00A8E8; font-weight: bold"),console.log("%c Previous State:","color: #9E9E9E; font-weight: bold",e.getState()),console.log("%c Action:","color: #00A8E8; font-weight: bold",n);let a=t(n);return console.log("%c Next State:","color: #47B04B; font-weight: bold",e.getState()),console.groupEnd(),a},x=(0,i.U1)({reducer:{user:s.Ay,protocol:o.Ay,staking:l.Ay,bonding:d.Ay,balances:b},middleware:e=>e().concat(h)});var v=n(12115),k=n(1405);let w=e=>{let{children:t}=e,n=(0,r.wA)(),{lastUpdated:i}=(0,r.d4)(e=>e.balances),{fetchProtocolData:s}=function(){let{tvl:e,totalSupply:t,totalStaked:n,totalRewards:a,currentAPR:i,bondTokens:s,tokenInfos:o,stakingPositions:l,bondPositions:d,loading:c,error:u,lastUpdated:p}=(0,r.d4)(e=>e.balances),y=(0,v.useCallback)(()=>{let a=Object.entries(m.A.tokens).map(t=>{let[n,a]=t,r=o.find(e=>e.token===a.address),i=(null==r?void 0:r.balance)||0n,s=Number((0,k.J)(BigInt(i),a.decimals));return{symbol:n,amount:s.toString(),value:s.toString(),percentage:s/Number((0,k.J)(BigInt(e),18))*100}}).filter(e=>Number(e.value)>0).sort((e,t)=>Number(t.value)-Number(e.value)),r=Number((0,k.J)(BigInt(t),18)),s=Number((0,k.J)(BigInt(e),18));return{tokenPrice:1,marketCap:r,treasuryValue:s,lastUpdate:p||Date.now(),totalValueLocked:s,totalStaked:Number((0,k.J)(BigInt(n),18)),circulatingSupply:r,fullyDilutedMarketCap:r,currentAPY:Number((0,k.J)(BigInt(i),2)),dailyROI:0,riskFreeValue:0,backingPrice:s/r,treasuryAssets:a,marketCapChange:0,apyChange:0,priceChange:0,treasuryChange:0}},[o,e,t,n,i,p]);return{tvl:e,totalSupply:t,totalStaked:n,totalRewards:a,currentAPR:i,bondTokens:s,tokenInfos:o,stakingPositions:l,bondPositions:d,loading:c,error:u,lastUpdated:p,fetchProtocolData:y}}();return(0,v.useEffect)(()=>{let e=async()=>{try{let e=await s();n((0,o.GS)(e))}catch(e){console.error("Error fetching protocol data:",e)}};i&&e()},[n,s,i]),(0,a.jsx)(a.Fragment,{children:t})};var S=n(2145);let T=()=>{let e=(0,r.wA)(),{address:t,isConnected:n}=(0,S.F)(),a=(0,v.useRef)(void 0),i=(0,v.useCallback)(()=>{t&&e(f(t))},[t,e]);return(0,v.useEffect)(()=>{if(n&&t)return i(),a.current=setInterval(i,5e3),()=>{a.current&&clearInterval(a.current)}},[n,t,i]),(0,v.useEffect)(()=>{n&&t?(a.current&&clearInterval(a.current),i(),a.current=setInterval(i,5e3)):a.current&&clearInterval(a.current)},[n,t,i]),{refreshProtocolData:i}};function P(e){let{children:t}=e;return T(),(0,a.jsx)(a.Fragment,{children:t})}function A(e){let{children:t}=e;return(0,a.jsx)(r.Kq,{store:x,children:(0,a.jsx)(w,{children:(0,a.jsx)(P,{children:t})})})}},32267:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var a=n(34540),r=n(39919),i=n(73349);let s=()=>{let e=(0,a.wA)(),t=(0,a.d4)(e=>e.bonding),n=async()=>{try{e((0,r.r1)(!0));let t=i.D.bondOfferings();e((0,r.XN)(t))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to fetch bond offerings"))}finally{e((0,r.r1)(!1))}},s=async()=>{try{e((0,r.r1)(!0));let t=i.D.bondPositions();e((0,r.W3)(t))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to fetch bond positions"))}finally{e((0,r.r1)(!1))}},o=async(t,n)=>{try{e((0,r.r1)(!0));let a={id:Date.now().toString(),offeringId:t,amount:n,payout:"0",startTime:Date.now(),endTime:Date.now()+6048e5,claimed:"0",isVested:!1};e((0,r.Yg)(a))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to purchase bond"))}finally{e((0,r.r1)(!1))}},l=async t=>{try{e((0,r.r1)(!0)),e((0,r.co)({id:t,updates:{claimed:"100%",isVested:!0}}))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to claim bond"))}finally{e((0,r.r1)(!1))}};return{...t,fetchBondOfferings:n,fetchBondPositions:s,purchaseBond:o,claimBond:l}}},38326:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o,GS:()=>r,Nh:()=>s,r1:()=>i});let a=(0,n(51990).Z0)({name:"protocol",initialState:{metrics:null,loading:!1,error:null},reducers:{setProtocolMetrics:(e,t)=>{e.metrics=t.payload,e.loading=!1,e.error=null},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload,e.loading=!1}}}),{setProtocolMetrics:r,setLoading:i,setError:s}=a.actions,o=a.reducer},39919:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>u,Nh:()=>c,W3:()=>s,XN:()=>r,Yg:()=>o,co:()=>l,r1:()=>d});let a=(0,n(51990).Z0)({name:"bonding",initialState:{offerings:[],positions:[],isLoading:!1,error:null},reducers:{setBondOfferings:(e,t)=>{e.offerings=t.payload},updateBondOffering:(e,t)=>{let n=e.offerings.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.offerings[n]={...e.offerings[n],...t.payload.updates})},setBondPositions:(e,t)=>{e.positions=t.payload},addBondPosition:(e,t)=>{e.positions.push(t.payload)},updateBondPosition:(e,t)=>{let n=e.positions.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.positions[n]={...e.positions[n],...t.payload.updates})},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setBondOfferings:r,updateBondOffering:i,setBondPositions:s,addBondPosition:o,updateBondPosition:l,setLoading:d,setError:c}=a.actions,u=a.reducer},40184:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var a=n(34540),r=n(38326),i=n(73349);let s=()=>{let e=(0,a.wA)(),t=(0,a.d4)(e=>e.protocol),n=async()=>{try{e((0,r.r1)(!0));let t=i.D.protocolMetrics();e((0,r.GS)(t))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to fetch protocol metrics"))}finally{e((0,r.r1)(!1))}};return{...t,fetchProtocolMetrics:n}}},52939:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>l,Nh:()=>o,_l:()=>r,_r:()=>i,r1:()=>s});let a=(0,n(51990).Z0)({name:"user",initialState:{isConnected:!1,address:null,chainId:null,isLoading:!1,error:null},reducers:{setWalletConnection:(e,t)=>{e.isConnected=!0,e.address=t.payload.address,e.chainId=t.payload.chainId,e.error=null},disconnectWallet:e=>{e.isConnected=!1,e.address=null,e.chainId=null},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setWalletConnection:r,disconnectWallet:i,setLoading:s,setError:o}=a.actions,l=a.reducer},53999:(e,t,n)=>{"use strict";n.d(t,{cn:()=>i});var a=n(52596),r=n(39688);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.QP)((0,a.$)(t))}},58281:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var a=n(34540),r=n(8345),i=n(73349);let s=()=>{let e=(0,a.wA)(),t=(0,a.d4)(e=>e.balances),n=async()=>{try{e((0,r.r1)(!0));let t=i.D.buyableStakes();e((0,r.Ob)(t))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to fetch buyable stakes"))}finally{e((0,r.r1)(!1))}},s=async n=>{try{e((0,r.r1)(!0));let a={id:Date.now().toString(),amount:n,startTime:Date.now(),endTime:null,rewards:"0",apr:Number(t.currentAPR),isActive:!0};e((0,r.Iq)(a))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to stake"))}finally{e((0,r.r1)(!1))}},o=async t=>{try{e((0,r.r1)(!0)),e((0,r.Cj)({id:t,updates:{endTime:Date.now(),isActive:!1}}))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to unstake"))}finally{e((0,r.r1)(!1))}},l=async t=>{try{e((0,r.r1)(!0)),e((0,r.Cj)({id:t,updates:{rewards:"0"}}))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to claim rewards"))}finally{e((0,r.r1)(!1))}};return{positions:t.stakingPositions,currentAPR:t.currentAPR,fetchBuyableStakes:n,stake:s,unstake:o,claimRewards:l}}},73349:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});let a={tokenBalances:()=>[{tokenAddress:"0xDRE...",symbol:"DRE",balance:"1000",decimals:18},{tokenAddress:"0xUSDC...",symbol:"USDC",balance:"5000",decimals:6}],tokenApprovals:()=>[{tokenAddress:"0xDRE...",spender:"0xStaking...",amount:"1000"}],protocolMetrics:()=>({totalValueLocked:"1000000",totalStaked:"500000",circulatingSupply:"1000000",marketCap:"12456789",fullyDilutedMarketCap:"24789012",currentAPY:7856,dailyROI:.52,treasuryValue:"8765432",riskFreeValue:"6543210",tokenPrice:42.56,backingPrice:"32.18",treasuryAssets:[{symbol:"USDC",amount:"500000",value:"500000",percentage:33.33},{symbol:"USDC/DRE v2 LP",amount:"100",value:"200000",percentage:13.33}],lastUpdate:Date.now(),marketCapChange:2.4,apyChange:-.8,priceChange:3.2,treasuryChange:1.7}),stakingPositions:()=>[{id:"1",amount:"100",startTime:Date.now()-6048e5,endTime:null,rewards:"50",apr:7856,isActive:!0}],buyableStakes:()=>[{id:"1",owner:"0x1234...5678",amount:"100",predictedAPR:7856,currentValue:4256,dailyTax:5.83,risk:"Low",trend:"up"},{id:"2",owner:"0x8765...4321",amount:"200",predictedAPR:7500,currentValue:8e3,dailyTax:10.96,risk:"Medium",trend:"down"},{id:"3",owner:"0x2468...1357",amount:"50",predictedAPR:8e3,currentValue:2e3,dailyTax:2.74,risk:"High",trend:"up"}],bondOfferings:()=>[{id:"1",tokenAddress:"0xUSDC...",tokenSymbol:"USDC",price:"1.0",discount:5,vestingTerm:604800,maxPayout:"100000",totalSold:"50000",isActive:!0},{id:"2",tokenAddress:"0xUSDC...",tokenSymbol:"USDC/DRE v2 LP",price:"1.0",discount:10,vestingTerm:604800,maxPayout:"100000",totalSold:"50000",isActive:!0}],bondPositions:()=>[{id:"1",offeringId:"1",amount:"1000",payout:"1050",startTime:Date.now()-2592e5,endTime:Date.now()+3456e5,claimed:"0",isVested:!1}]}},76736:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});let a={USDC:{address:"0x29219dd400f2bf60e5a23d13be72b486d4038894",decimals:6,symbol:"USDC"},DRE:{address:"0xF8232259D4F92E44eF84F18A0B9877F4060B26F1",decimals:18,symbol:"DRE"},DRE_USDC_LP:{address:"0xB781C624397C423Cb62bAe9996cEbedC6734B76b",decimals:18}},r={treasury:"0xb692e2706b628998B4403979D9117Ed746bf8128",stakingContract:"0x30902d05C499911142FE62B447dDcf19649452A3",dreBondDepository:"0x2CE3618aa69ab891eeae4a18e64aaA55624a4481",dreOracle:"0xc3bAdcf754b0833c706Eb1b12A310B4EF5C20EB0",uiHelper:"0xA80Cb668EA11b675FC03d45F28326435885794eD"},i={tokens:a,coreAddresses:r,bonds:[{name:"USDC Bond",token:a.USDC,address:"0x0000000000000000000000000000000000000000",startPrice:1,endPrice:1.1,startDate:new Date("2025-01-01"),endDate:new Date("2025-01-02")},{name:"DRE/USDC LP",address:"0x0000000000000000000000000000000000000000",startPrice:1,endPrice:1.1,startDate:new Date("2025-01-01"),endDate:new Date("2025-01-02")}],approvalContracts:[r.treasury,r.stakingContract,r.dreBondDepository]}},83027:(e,t,n)=>{"use strict";n.d(t,{DataInitializer:()=>c});var a=n(95155),r=n(12115),i=n(85711),s=n(40184),o=n(58281),l=n(32267);let d=()=>{let{fetchTokenBalances:e,fetchTokenApprovals:t}=(0,i.J)(),{fetchProtocolMetrics:n}=(0,s.m)(),{fetchStakingPositions:a}=(0,o.B)(),{fetchBondOfferings:d,fetchBondPositions:c}=(0,l.f)();(0,r.useEffect)(()=>{(async()=>{try{console.log("Initializing data...")}catch(e){console.error("Failed to initialize data:",e)}})()},[])};function c(e){let{children:t}=e;return d(),(0,a.jsx)(a.Fragment,{children:t})}},85711:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var a=n(34540),r=n(52939);let i=()=>{let e=(0,a.wA)(),t=(0,a.d4)(e=>e.user),n=async(t,n)=>{try{e((0,r.r1)(!0)),e((0,r._l)({address:t,chainId:n}))}catch(t){e((0,r.Nh)(t instanceof Error?t.message:"Failed to connect wallet"))}finally{e((0,r.r1)(!1))}};return{...t,connectWallet:n,disconnectWallet:()=>{e((0,r._r)())}}}},97168:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var a=n(95155),r=n(12115),i=n(99708),s=n(74466),o=n(53999);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:n,variant:r,size:s,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(l({variant:r,size:s,className:n})),ref:t,...c})});d.displayName="Button"},99199:(e,t,n)=>{"use strict";n.d(t,{Web3Provider:()=>x});var a=n(95155);n(85035);var r=n(83415),i=n(87017),s=n(26715),o=n(63439),l=n(56774),d=n(85658),c=n(36241),u=n(81100),p=n(74113),y=n(29385),m=n(34324),g=n(51424);let f=(0,o.Qq)([{groupName:"Recommended",wallets:[p.G,y.Z,m.d,g.O]}],{appName:"Dre Finance",projectId:"c385954abce0db2b929248968af25c16"}),b=(0,d.Z)({chains:[u.T],connectors:f,transports:{[u.T.id]:(0,c.L)("https://rpc.soniclabs.com")}}),h=new i.E;function x(e){let{children:t}=e;return(0,a.jsx)(r.x,{config:b,children:(0,a.jsx)(s.Ht,{client:h,children:(0,a.jsx)(o.qL,{theme:(0,l.a)({accentColor:"rgb(150, 90, 8)",accentColorForeground:"white"}),children:t})})})}},99304:(e,t,n)=>{"use strict";n.d(t,{ThemeProvider:()=>i});var a=n(95155);n(12115);var r=n(51362);function i(e){let{children:t,...n}=e;return(0,a.jsx)(r.N,{...n,children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2533,3012,8451,413,635,4692,6874,2368,2001,8441,1684,7358],()=>t(27888)),_N_E=e.O()}]);